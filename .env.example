# happy-local environment
#
# Copy to .env (recommended) and adjust as needed.
#
# Note: this repo intentionally does NOT modify the upstream component repos.

# Main server URL shown/used by the CLI (QR/login links, etc).
# For local use: http://localhost:3005
# For Tailscale (recommended): set this to your HTTPS Serve URL, e.g. https://<machine>.<tailnet>.ts.net
HAPPY_LOCAL_SERVER_URL=http://localhost:3005
HAPPY_LOCAL_SERVER_PORT=3005

# UI build + serving
HAPPY_LOCAL_UI_PREFIX=/
HAPPY_LOCAL_UI_BUILD_DIR=~/.happy/local/ui
HAPPY_LOCAL_SERVE_UI=1

# Components
HAPPY_LOCAL_UI=1
HAPPY_LOCAL_DAEMON=1
HAPPY_LOCAL_NPM_LINK=1
HAPPY_LOCAL_CLI_BUILD=1
HAPPY_LOCAL_CLI_HOME_DIR=~/.happy/local/cli

# Tauri build during pnpm build
HAPPY_LOCAL_BUILD_TAURI=1
HAPPY_LOCAL_TAURI_DEBUG=1
HAPPY_LOCAL_TAURI_IDENTIFIER=com.happy.local
HAPPY_LOCAL_TAURI_PRODUCT_NAME="Happy Local"

# Server-light monitoring (metrics server defaults off to avoid port conflicts)
METRICS_ENABLED=false
METRICS_PORT=9090

# Optional: expose UI over HTTPS using Tailscale Serve (recommended for remote access)
HAPPY_LOCAL_TAILSCALE_SERVE=0
HAPPY_LOCAL_TAILSCALE_SERVE_PATH=/
HAPPY_LOCAL_TAILSCALE_UPSTREAM=http://127.0.0.1:3005
HAPPY_LOCAL_TAILSCALE_RESET_ON_EXIT=0
HAPPY_LOCAL_TAILSCALE_PREFER_PUBLIC_URL=1
# Optional: how long `pnpm start` should wait for Tailscale at boot (ms)
HAPPY_LOCAL_TAILSCALE_WAIT_MS=15000

# If `tailscale` is not on PATH (common if you use the macOS app), set this:
HAPPY_LOCAL_TAILSCALE_BIN=/Applications/Tailscale.app/Contents/MacOS/Tailscale
