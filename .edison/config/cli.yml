cli:
  # Fail-closed wrapper enforcement (recommended for LLM/agent workflows).
  #
  # This project requires the Happy Stacks wrapper so that:
  # - stack-scoped env vars are loaded correctly
  # - multi-repo fingerprinting includes the stack’s component repos
  # - agents don’t accidentally run outside the enforced stack/worktree context
  wrapper:
    enabled: true
    env_var: HAPPY_STACKS_EDISON_WRAPPER
    value: "1"
    message: |
      Happy Stacks: do not run `edison ...` directly in this repo.

      Fix:
        happys edison -- <edison args...>

      Stack-scoped (recommended for tasks/evidence/validation):
        happys edison --stack=<stack> -- <edison args...>

      Helpful reads:
        happys edison -- read START_HAPPY_STACKS_NEW_SESSION --type start
        happys edison -- read START_PLAN_FEATURE --type start
        happys edison -- read START_VALIDATE_TASK --type start

      Tip:
        If you pass a task id or QA id, `happys edison` can infer the stack from frontmatter:
          happys edison -- evidence capture <task-id>

