<CRITICAL_MANDATORY_RULES_PRINCIPLES>
## CRITICAL MANDATORY RULES AND PRINCIPLES

We are working with multiple parallel agents, so please be careful when you work on things to not remove some things that you might think are unrelated or unwanted because this is normal and expected. We will have somewhat unrelated changes in our worktrees and in our uncommitted and commit history because multiple agents are currently working at the same time so do NOT alter their work or remove their work.

I need you to be very precise and have a look at everything in an in-depth and most reliable way and make sure that everything that we do is fully unified coherent and unduplicated. 

We don't want to have like duplicated logic or wrong logic or somewhat similar-but-different logic or big monolithic files, and everything should be implemented following the software development best practices and recommendations and latest validated trends. We have big monolithic files currently in our implementation, we don't want to refactor them right now (except if I explicitely ask you to) but if we add something new or if we implement something newm we should try to implement it in the most reliable and recommended way and most correct structure, using small and focised files correctly named in a clear and easy-to-understand way, and in a correct file/folder structure with clear subfolders, etc.

We must make sure that everything that we do is fully coherent and reliable. Reliability is REALLE a big very important thing because our current app, CLI and daemon have some reliability issues and have some quirks and bugs. And this is really important that everything that we implement from now on is fully reliable and fully safe and fully stable, this is really really important. 

We have to make sure also that everything is unified that we don't implement like duplicated logic or wrong logic, or things that are not implemented in the most recommended way. 

If you have any doubts about the latest recommendations, the latest best practices, the latest usage, or the latest implementation of anything: you MUST do web searches and context7 mcp tool calls to gather the latest information, latest details and latest recommended/validated trends and everything that is necessary.

Everything that we do should be absolutely perfect, absolutely unified coherent and reliable. 

Please make sure also that when you implement tests, those are not like just test to add tests to codebase for the sake of it. The yshould have a real PURPOSe and goal, and validate the REAL use cases, edge cases, etc. We don't want to have tests that are not really useful. The goal of tests is to validate the real behaviour on real code that we produce and the tests are really really really important in that sense but we don't want neither to implement like tests that test brittle things like wordings or configurations value or things like that that might change and that might not follow testing best practices and recommendations.

REMEMBER: The goal is to implement everything, every change, every fix, every improvement, every optimization, every tests and everything in the most recommended, the most reliable way, the most unified way and the most coherent way with the rest of our codebase and the latest recommendations and best practices.
</CRITICAL_MANDATORY_RULES_PRINCIPLES>